<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/github-calendar@latest/dist/github-calendar-responsive.css" />
    <title>Santhosh's Portfolio</title>
    <script>
      // Immediately set the theme before the page loads
      const savedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia(
        "(prefers-color-scheme: dark)"
      ).matches;
      const theme = savedTheme || (prefersDark ? "dark" : "light");
      document.documentElement.setAttribute("data-theme", theme);
    </script>
  </head>
  <body>
    <button class="theme-toggle" aria-label="Toggle theme">
      <svg
        class="sun-icon"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
      </svg>
      <svg
        class="moon-icon"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
      </svg>
    </button>
    <nav class="nav">
      <div class="nav-container">
        <a href="#" class="logo">Santhosh reddy Barla</a>
        <button class="hamburger" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <ul class="nav-menu">
          <li><a href="#home">Home</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="#aboutme">About Me</a></li>
          <li><a href="docs/santhosh_resume.pdf">Download Resume</a></li>
        </ul>
      </div>
    </nav>

    <main style="padding-top: 80px">
      <div id="home">
        <h1>Santhosh reddy Barla</h1>

        <!-- GitHub Stats Section -->
        <div class="github-stats">
          <!-- GitHub Contribution Calendar -->
          <div class="calendar">
            <!-- Calendar will be loaded here -->
          </div>

          <!-- GitHub Stats Cards -->
          <div class="stats-cards">
            <img
              src="https://github-readme-stats.vercel.app/api?username=santhosh-reddy03&show_icons=true&theme=transparent&hide_border=true&card_width=450&rank_icon=github"
              alt="GitHub Stats"
              class="stats-card" />

            <img
              src="https://github-readme-streak-stats.herokuapp.com/?user=santhosh-reddy03&theme=transparent&hide_border=true&card_width=450"
              alt="GitHub Streak"
              class="stats-card" />

            <img
              src="https://github-readme-stats.vercel.app/api/top-langs/?username=santhosh-reddy03&layout=compact&theme=transparent&hide_border=true&card_width=450&langs_count=6"
              alt="Most Used Languages"
              class="stats-card" />
          </div>
        </div>
      </div>

      <div id="projects">
        <h1>Projects</h1>
        <p>Please find the below projects I'm actively working on</p>
        <div class="projects-grid">
          <!-- Projects will be loaded here dynamically -->
        </div>
      </div>

      <section id="blog" class="section">
        <h2 class="section-title">Recent Blog Posts</h2>
        <div class="blog-grid" id="blog-posts-container">
          <!-- Blog previews will be loaded here -->
        </div>
        <div class="view-all">
          <a href="blog.html" class="view-all-link">View All Posts →</a>
        </div>
      </section>

      <div id="aboutme">
        <h1>About Me</h1>
        <div class="about-container">
          <div class="about-content">
            <div class="about-text">
              <p>
                I am a mechanical engineer who turned into a software engineer
                for my love towards problem solving. I love to learn about new
                things and always excited to contribute to open source projects.
              </p>

              <div class="skills-section">
                <h2>Tech Stack</h2>
                <div class="skills-grid">
                  <div class="skill-category">
                    <h3>Languages</h3>
                    <div class="skill-tags">
                      <span class="skill-tag">Python</span>
                      <span class="skill-tag">JavaScript</span>
                      <span class="skill-tag">TypeScript</span>
                    </div>
                  </div>
                  <div class="skill-category">
                    <h3>Frameworks</h3>
                    <div class="skill-tags">
                      <span class="skill-tag">Django</span>
                      <span class="skill-tag">React</span>
                      <span class="skill-tag">FastAPI</span>
                    </div>
                  </div>
                  <div class="skill-category">
                    <h3>Tools</h3>
                    <div class="skill-tags">
                      <span class="skill-tag">Git</span>
                      <span class="skill-tag">Docker</span>
                      <span class="skill-tag">AWS</span>
                      <span class="skill-tag">Azure</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <div class="footer-content">
        <p>
          © 2024 All rights reserved by
          <a href="mailto:santhosh_reddy_@outlook.com">Santhosh reddy Barla</a>
        </p>
        <div class="social-links">
          <a
            href="https://github.com/santhosh-reddy03"
            target="_blank"
            rel="noopener noreferrer">
            <svg height="24" viewBox="0 0 16 16" width="24">
              <path
                fill="currentColor"
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
          </a>
          <a
            href="https://linkedin.com/in/santhosh-reddy-barla"
            target="_blank"
            rel="noopener noreferrer">
            <svg height="24" viewBox="0 0 24 24" width="24">
              <path
                fill="currentColor"
                d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path>
            </svg>
          </a>
        </div>
      </div>
    </footer>
    <script src="https://unpkg.com/github-calendar@latest/dist/github-calendar.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        GitHubCalendar(".calendar", "santhosh-reddy03", {
          responsive: true,
          tooltips: true,
          global_stats: false,
        })
          .then(function () {
            console.log("Calendar loaded successfully");
          })
          .catch(function (error) {
            console.error("Error loading calendar:", error);
          });
      });
    </script>
    <script src="script.js"></script>
    <script>
      async function loadBlogPreviews() {
        const blogContainer = document.getElementById("blog-posts-container");
        if (!blogContainer) return; // Exit if we're not on the home page

        try {
          // Load blog metadata
          const response = await fetch("/blog/metadata/posts.json");
          const data = await response.json();

          // Get the 3 most recent posts
          const recentPosts = data.posts
            .sort((a, b) => new Date(b.date) - new Date(a.date))
            .slice(0, 3);

          // Create HTML for recent posts
          const postsHTML = recentPosts
            .map(
              (post) => `
            <article class="blog-post-preview">
              <a href="blog.html?post=${post.id}" class="blog-post-link">
                <h2>${post.title}</h2>
                <time datetime="${post.date}">${new Date(
                post.date
              ).toLocaleDateString("en-US", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })}</time>
                <p>${post.summary}</p>
                <div class="tags">
                  ${post.tags
                    .map((tag) => `<span class="tag">${tag}</span>`)
                    .join("")}
                </div>
              </a>
            </article>
          `
            )
            .join("");

          blogContainer.innerHTML = postsHTML;
        } catch (error) {
          console.error("Error loading blog previews:", error);
          blogContainer.innerHTML = "<p>Error loading blog previews.</p>";
        }
      }

      // Load blog previews when the page loads
      document.addEventListener("DOMContentLoaded", loadBlogPreviews);
    </script>
  </body>
</html>
